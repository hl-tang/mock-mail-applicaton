{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"SingleMessageSection\",\n  class: \"w-full bg-white ml-2 rounded-t-xl h-full shadow-sm\"\n};\nconst _hoisted_2 = {\n  class: \"border-b\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center justify-between px-1.5 py-0.5\"\n};\nconst _hoisted_4 = {\n  class: \"flex\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-xs text-gray-500\"\n}, \"1-50 of 153\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"w-full text-xl ml-20 font-light pt-5\"\n};\nconst _hoisted_7 = {\n  class: \"w-full flex\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"rounded-full mt-8 mx-5 custom-img\",\n  src: \"https://via.placeholder.com/45\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"w-full my-4 mx-0.5\"\n};\nconst _hoisted_10 = {\n  class: \"font-semibold text-sm mt-4 mb-4\"\n};\nconst _hoisted_11 = {\n  class: \"w-full flex justify-between items-center\"\n};\nconst _hoisted_12 = {\n  class: \"mr-5 text-xs font-normal\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-xs text-gray-500 font-normal\"\n}, \"to me\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/email\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"IconComponent\"], {\n      iconString: \"back\",\n      iconSize: 19,\n      iconColor: \"#636363\",\n      text: \"Back to inbox\",\n      hoverColor: \"hover:bg-gray-100\"\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode($setup[\"IconComponent\"], {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.deleteEmail($setup.email.id)),\n    iconString: \"trash\",\n    iconSize: 19,\n    iconColor: \"#636363\",\n    text: \"Delete\",\n    hoverColor: \"hover:bg-gray-100\",\n    class: \"ml-3\"\n  })]), _hoisted_5])]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($setup.email.subject), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", null, _toDisplayString($setup.email.fromEmail), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($setup.email.createdAt), 1 /* TEXT */)]), _hoisted_13]), _createElementVNode(\"div\", null, _toDisplayString($setup.email.body), 1 /* TEXT */)])])]);\n}","map":{"version":3,"mappings":";;EAEIA,EAAE,EAAC,sBAAsB;EACzBC,KAAK,EAAC;;;EAEDA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAiD;;EACrDA,KAAK,EAAC;AAAM;gCAqBjBC,oBAAoD;EAA/CD,KAAK,EAAC;AAAuB,GAAC,aAAW;;EAI7CA,KAAK,EAAC;AAAsC;;EAI5CA,KAAK,EAAC;AAAa;gCACtBC,oBAGE;EAFAD,KAAK,EAAC,mCAAmC;EACzCE,GAAG,EAAC;;;EAEDF,KAAK,EAAC;AAAoB;;EACxBA,KAAK,EAAC;AAAiC;;EACrCA,KAAK,EAAC;AAA0C;;EAE9CA,KAAK,EAAC;AAA0B;iCAEvCC,oBAA4D;EAAtDD,KAAK,EAAC;AAAmC,GAAC,OAAK;;;;uBA9C7DG,oBAmDM,OAnDNC,UAmDM,GA/CJH,oBAyBM,OAzBNI,UAyBM,GAxBJJ,oBAuBM,OAvBNK,UAuBM,GAtBJL,oBAoBM,OApBNM,UAoBM,GAnBJC,aAQcC;IARDC,EAAE,EAAC;EAAQ;sBACtB,MAME,CANFF,aAMEG;MALAC,UAAU,EAAC,MAAM;MAChBC,QAAQ,EAAE,EAAE;MACbC,SAAS,EAAC,SAAS;MACnBC,IAAI,EAAC,eAAe;MACpBC,UAAU,EAAC;;;MAIfR,aAQEG;IAPCM,OAAK,sCAAEN,kBAAW,CAACA,YAAK,CAACZ,EAAE;IAC5Ba,UAAU,EAAC,OAAO;IACjBC,QAAQ,EAAE,EAAE;IACbC,SAAS,EAAC,SAAS;IACnBC,IAAI,EAAC,QAAQ;IACbC,UAAU,EAAC,mBAAmB;IAC9BhB,KAAK,EAAC;QAGVkB,UAAoD,MAIxDjB,oBAEM,OAFNkB,UAEM,mBADDR,YAAK,CAACS,OAAO,kBAGlBnB,oBAeM,OAfNoB,UAeM,GAdJC,UAGE,EACFrB,oBASM,OATNsB,UASM,GARJtB,oBAMM,OANNuB,WAMM,GALJvB,oBAGM,OAHNwB,WAGM,GAFJxB,oBAAgC,8BAAxBU,YAAK,CAACe,SAAS,kBACvBzB,oBAAiE,OAAjE0B,WAAiE,mBAAxBhB,YAAK,CAACiB,SAAS,oBAE1DC,WAA4D,IAE9D5B,oBAA2B,8BAAnBU,YAAK,CAACmB,IAAI","names":["id","class","_createElementVNode","src","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","$setup","iconString","iconSize","iconColor","text","hoverColor","onClick","_hoisted_5","_hoisted_6","subject","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","fromEmail","_hoisted_12","createdAt","_hoisted_13","body"],"sourceRoot":"","sources":["/home/hl_tang/Code/VSCodeWorkSpace/GPTmail/src/views/MessageView.vue"],"sourcesContent":["<template>\n  <div\n    id=\"SingleMessageSection\"\n    class=\"w-full bg-white ml-2 rounded-t-xl h-full shadow-sm\"\n  >\n    <div class=\"border-b\">\n      <div class=\"flex items-center justify-between px-1.5 py-0.5\">\n        <div class=\"flex\">\n          <router-link to=\"/email\">\n            <IconComponent\n              iconString=\"back\"\n              :iconSize=\"19\"\n              iconColor=\"#636363\"\n              text=\"Back to inbox\"\n              hoverColor=\"hover:bg-gray-100\"\n            />\n          </router-link>\n\n          <IconComponent\n            @click=\"deleteEmail(email.id)\"\n            iconString=\"trash\"\n            :iconSize=\"19\"\n            iconColor=\"#636363\"\n            text=\"Delete\"\n            hoverColor=\"hover:bg-gray-100\"\n            class=\"ml-3\"\n          />\n        </div>\n        <div class=\"text-xs text-gray-500\">1-50 of 153</div>\n      </div>\n    </div>\n\n    <div class=\"w-full text-xl ml-20 font-light pt-5\">\n      {{ email.subject }}\n    </div>\n\n    <div class=\"w-full flex\">\n      <img\n        class=\"rounded-full mt-8 mx-5 custom-img\"\n        src=\"https://via.placeholder.com/45\"\n      />\n      <div class=\"w-full my-4 mx-0.5\">\n        <div class=\"font-semibold text-sm mt-4 mb-4\">\n          <div class=\"w-full flex justify-between items-center\">\n            <div>{{ email.fromEmail }}</div>\n            <div class=\"mr-5 text-xs font-normal\">{{ email.createdAt }}</div>\n          </div>\n          <span class=\"text-xs text-gray-500 font-normal\">to me</span>\n        </div>\n        <div>{{ email.body }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { onMounted, ref } from \"vue\";\n  import { useRoute, useRouter } from \"vue-router\";\n  import { useUserStore } from \"@/store/user-store\";\n  import IconComponent from \"@/components/IconComponent.vue\";\n\n  const route = useRoute()\n  const router = useRouter()\n  const userStore = useUserStore()\n\n  let email = ref({})\n\n  onMounted(async () => {\n    const res = await userStore.getEmailById(route.params.id)\n\n    await userStore.emailHasBeenViewed(res.id)\n\n    email.value = {\n      id: res.id,\n      body: res.body,\n      createdAt: res.createdAt,\n      firstName: res.firstName,\n      fromEmail: res.fromEmail,\n      lastName: res.lastName,\n      subject: res.subject,\n      hasViewed: res.hasViewed,\n      toEmail: res.toEmail\n    }\n  })\n\n  const deleteEmail = async (id) => {\n    let res = confirm(\"Are you sure you want to delete this?\");\n    if (res) { \n      await userStore.deleteEmail(id)\n      setTimeout(() => { router.push('/email') }, 250)\n    }\n\n  }\n</script>\n\n<style lang=\"scss\" setup>\n#SingleMessageSection {\n  .custom-img {\n    width: 40px;\n    height: 40px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}