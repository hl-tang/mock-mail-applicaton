{"ast":null,"code":"import { ref } from \"vue\";\nimport IconComponent from \"@/components/IconComponent.vue\";\nimport UserComponent from \"@/components/UserComponent.vue\";\n\n// import PencilOutlineIcon from \"vue-material-design-icons/PencilOutline.vue\";\nimport { EditPen } from \"@element-plus/icons-vue\";\nimport InboxIcon from \"vue-material-design-icons/Inbox.vue\";\nimport StarOutlineIcon from \"vue-material-design-icons/StarOutline.vue\";\nimport ClockOutlineIcon from \"vue-material-design-icons/ClockOutline.vue\";\nimport SendOutlineIcon from \"vue-material-design-icons/SendOutline.vue\";\nimport FileOutlineIcon from \"vue-material-design-icons/FileOutline.vue\";\n//import PlusIcon from \"vue-material-design-icons/Plus.vue\";\nimport CloseIcon from \"vue-material-design-icons/Close.vue\";\nimport { useUserStore } from \"@/store/user-store\";\nexport default {\n  __name: 'EmailView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const userStore = useUserStore();\n    let newMessageOpen = ref(false);\n    let toEmail = ref('');\n    let subject = ref('');\n    let body = ref('');\n    const sendEmail = async () => {\n      // eslint-disable-next-line no-useless-escape\n      const filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n      if (!filter.test(toEmail.value)) {\n        alert('Please provide a valid email address');\n        return;\n      }\n      await userStore.sendEmail({\n        toEmail: toEmail.value,\n        subject: subject.value,\n        body: body.value\n      });\n      newMessageOpen.value = false;\n      toEmail.value = '';\n      subject.value = '';\n      body.value = '';\n    };\n    const __returned__ = {\n      userStore,\n      get newMessageOpen() {\n        return newMessageOpen;\n      },\n      set newMessageOpen(v) {\n        newMessageOpen = v;\n      },\n      get toEmail() {\n        return toEmail;\n      },\n      set toEmail(v) {\n        toEmail = v;\n      },\n      get subject() {\n        return subject;\n      },\n      set subject(v) {\n        subject = v;\n      },\n      get body() {\n        return body;\n      },\n      set body(v) {\n        body = v;\n      },\n      sendEmail,\n      ref,\n      IconComponent,\n      UserComponent,\n      get EditPen() {\n        return EditPen;\n      },\n      InboxIcon,\n      StarOutlineIcon,\n      ClockOutlineIcon,\n      SendOutlineIcon,\n      FileOutlineIcon,\n      CloseIcon,\n      get useUserStore() {\n        return useUserStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AA2PE,SAASA,GAAG,QAAQ,KAAK;AAEzB,OAAOC,aAAa,MAAM,gCAAgC;AAC1D,OAAOC,aAAa,MAAM,gCAAgC;;AAE1D;AACA,SAAQC,OAAO,QAAO,yBAAyB;AAC/C,OAAOC,SAAS,MAAM,qCAAqC;AAC3D,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,gBAAgB,MAAM,4CAA4C;AACzE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,eAAe,MAAM,2CAA2C;AACvE;AACA,OAAOC,SAAS,MAAM,qCAAqC;AAE3D,SAASC,YAAY,QAAQ,oBAAoB;;;;;;;IACjD,MAAMC,SAAS,GAAGD,YAAY,EAAE;IAEhC,IAAIE,cAAc,GAAGZ,GAAG,CAAC,KAAK,CAAC;IAC/B,IAAIa,OAAO,GAAGb,GAAG,CAAC,EAAE,CAAC;IACrB,IAAIc,OAAO,GAAGd,GAAG,CAAC,EAAE,CAAC;IACrB,IAAIe,IAAI,GAAGf,GAAG,CAAC,EAAE,CAAC;IAElB,MAAMgB,SAAS,GAAG,YAAY;MAE5B;MACA,MAAMC,MAAM,GAAG,iEAAiE;MAEhF,IAAI,CAACA,MAAM,CAACC,IAAI,CAACL,OAAO,CAACM,KAAK,CAAC,EAAE;QAC7BC,KAAK,CAAC,sCAAsC,CAAC;QAC7C;MACJ;MAEA,MAAMT,SAAS,CAACK,SAAS,CAAC;QACxBH,OAAO,EAAEA,OAAO,CAACM,KAAK;QACtBL,OAAO,EAAEA,OAAO,CAACK,KAAK;QACtBJ,IAAI,EAAEA,IAAI,CAACI;MACb,CAAC,CAAC;MAEFP,cAAc,CAACO,KAAK,GAAG,KAAK;MAC5BN,OAAO,CAACM,KAAK,GAAG,EAAE;MAClBL,OAAO,CAACK,KAAK,GAAG,EAAE;MAClBJ,IAAI,CAACI,KAAK,GAAG,EAAE;IACjB,CAAC","names":["ref","IconComponent","UserComponent","EditPen","InboxIcon","StarOutlineIcon","ClockOutlineIcon","SendOutlineIcon","FileOutlineIcon","CloseIcon","useUserStore","userStore","newMessageOpen","toEmail","subject","body","sendEmail","filter","test","value","alert"],"sources":["/home/hl_tang/Code/VSCodeWorkSpace/GPTmail/src/views/template/EmailView.vue"],"sourcesContent":["<template>\n  <div id=\"EmailView\" class=\"bg-gray-50 h-screen\">\n    <div id=\"TopMenu\" class=\"flex items-center p-2\">\n      <div class=\"logo-section flex justify-start items-center px-3.5\">\n        \n        <IconComponent \n          iconString=\"menu\"\n          iconColor=\"#636363\"\n          text=\"Main menu\"\n          hoverColor=\"hover:bg-gray-200\"\n          class=\"-ml-2 mr-2\" \n        />\n\n        <img width=\"107\" src=\"../../../public/img/R.png\" alt=\"\" />\n      </div>\n      <div class=\"flex w-full justify-between\">\n        <div class=\"input-width w-full bg-gray-200 flex items-center p-1 px-2 rounded-lg\">\n          <IconComponent \n            iconString=\"magnify\"\n            iconColor=\"#636363\"\n            text=\"Search\"\n            hoverColor=\"hover:bg-gray-300\"\n          />\n          <input\n            placeholder=\"Search mail\"\n            class=\"\n              w-full \n              h-10 \n              bg-gray-200 \n              border-transparent \n              border-none \n              focus:ring-0 \n              outline-none \n              placeholder-gray-900\n            \"\n            type=\"text\"\n          />\n          <IconComponent \n            iconString=\"tune\"\n            iconColor=\"#636363\"\n            text=\"Show search options\"\n            hoverColor=\"hover:bg-gray-300\"\n          />\n        </div>\n\n        <div class=\"flex w-32 justify-between items-center ml-6\">\n          <IconComponent \n            iconString=\"cog\"\n            iconColor=\"#636363\"\n            text=\"Settings\"\n            hoverColor=\"hover:bg-gray-200\"\n          />\n          <IconComponent \n            iconString=\"apps\"\n            iconColor=\"#636363\"\n            text=\"Google apps\"\n            hoverColor=\"hover:bg-gray-200\"\n          />\n\n          <UserComponent />\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex w-full\">\n      <div id=\"SideMenu\" class=\"side-menu\">\n        <div\n        @click=\"newMessageOpen = true\"\n          class=\"\n            flex\n            items-center\n            justify-center\n            bg-sky-200\n            w-36\n            h-8\n            mt-2\n            rounded-2xl\n            ml-2\n            p-7\n            cursor-pointer\n          \"\n        >\n          <EditPen :size=\"10\" class=\"mr-2\" />\n          <el-icon :size=\"10\" :color=\"red\"><EditPen /></el-icon>\n          <span class=\"text-sm\">Compose</span>\n        </div>\n\n        <div class=\"my-5\"></div>\n\n        <router-link to=\"/email\">\n          <div\n            class=\"\n              flex\n              side-menu-item\n              justify-between\n              px-6\n              py-1.5\n              bg-blue-100\n              rounded-r-full\n            \"\n          >\n            \n            \n              <div class=\"flex items-center\">\n                <InboxIcon :size=\"17\" />\n                <div class=\"text-sm pl-4 font-semibold\">Inbox</div>\n              </div>\n            \n            <div class=\"text-xs font-semibold\">{{ userStore.emails.length }}</div>\n          </div>\n        </router-link>\n      \n\n        <div class=\"flex side-menu-item justify-between px-6 py-1.5\">\n          <div class=\"flex items-center\">\n            <StarOutlineIcon :size=\"17\" />\n            <div class=\"text-sm pl-4\">Starred</div>\n          </div>\n        </div>\n\n        <div class=\"flex side-menu-item justify-between px-6 py-1.5\">\n          <div class=\"flex items-center\">\n            <ClockOutlineIcon :size=\"17\" />\n            <div class=\"text-sm pl-4\">Snoozed</div>\n          </div>\n        </div>\n\n        <div class=\"flex side-menu-item justify-between px-6 py-1.5\">\n          <div class=\"flex items-center\">\n            <SendOutlineIcon :size=\"17\" />\n            <div class=\"text-sm pl-4\">Sent</div>\n          </div>\n        </div>\n\n        <div class=\"flex side-menu-item justify-between px-6 py-1.5\">\n          <div class=\"flex items-center\">\n            <FileOutlineIcon :size=\"17\" />\n            <div class=\"text-sm pl-4\">Drafts</div>\n          </div>\n        </div>\n\n        <div class=\"flex side-menu-item justify-between px-6 py-1.5\">\n          <div class=\"flex items-center\">\n            <FileOutlineIcon :size=\"17\" />\n            <div class=\"text-sm pl-4\">Drafts</div>\n          </div>\n        </div>\n\n      </div>\n\n\n      <!-- this is where the page changes -->\n      <router-view />\n      <!-- this is where the page changes -->\n\n      <!-- <div class=\"m-4\">\n        <div class=\"w-6 h-6 flex justify-center mb-7\">\n          <img class=\"object-center\" src=\"img/GoogleCalendar.png\" alt=\"\">\n        </div>\n\n        <div class=\"w-6 h-6 flex justify-center mb-7\">\n          <img class=\"object-center\" src=\"img/GoogleKeep.png\" alt=\"\">\n        </div>\n\n        <div class=\"w-6 h-6 flex justify-center mb-7\">\n          <img class=\"object-center\" src=\"img/GoogleTasks.png\" alt=\"\">\n        </div>\n\n        <div class=\"w-6 h-6 flex justify-center mb-7\">\n          <img class=\"object-center\" src=\"img/GoogleContacts.png\" alt=\"\">\n        </div>\n\n        <div class=\"w-6 flex mb-7 border border-gray-300\" />\n\n        <div class=\"w-6 h-6 flex justify-center mb-7\">\n          <PlusIcon />\n        </div>\n\n      </div> -->\n    </div>\n  </div>\n\n  <div \n    v-if=\"newMessageOpen\" \n    id=\"NewMessageSection\" \n    class=\"\n      absolute \n      bottom-20 \n      right-30 \n      mr-20 \n      rounded-t-lg \n      shadow-2xl \n      bg-white\n    \"\n  >\n    <div class=\"flex items-center justify-between rounded-t-lg w-full text-sm px-3.5 py-2.5 bg-gray-200\">\n      <div>New message</div>\n      <CloseIcon class=\"cursor-pointer\" @click=\"newMessageOpen = false\" :size=\"19\"/>\n    </div>\n\n    <div>\n      <div class=\"relative flex items-center px-3.5 py-2\">\n        <div class=\"text-sm text-gray-700\">To</div>\n        <input v-model=\"toEmail\" class=\"w-full h-6 border-transparent border-none focus:ring-0 outline-none\" type=\"text\">\n        <div class=\"absolute border-b w-[calc(100%-30px)] bottom-0\"></div>\n      </div>\n      <div class=\"relative flex items-center px-3.5 py-2\">\n        <div class=\"text-sm text-gray-700\">Subject</div>\n        <input v-model=\"subject\" class=\"w-full h-6 border-transparent border-none focus:ring-0 outline-none\" type=\"text\">\n        <div class=\"absolute border-b w-[calc(100%-30px)] bottom-0\"></div>\n      </div>\n    </div>\n\n    <div class=\"m-1\">\n      <textarea \n        v-model=\"body\"\n        style=\"resize:none\" \n        class=\"\n          w-full \n          border-transparent \n          border-none \n          focus:ring-0 \n          outline-none\n        \" \n        rows=\"14\"\n      ></textarea>\n    </div>\n\n    <div class=\"p-4 mt-5\">\n      <button \n        @click=\"sendEmail\" \n        class=\"\n          bg-green-700 \n          hover:bg-blue-600 \n          text-white \n          text-sm \n          font-bold \n          py-2 \n          px-4 \n          rounded-full\n        \"\n      >\n        Send message\n      </button>\n    </div>\n    \n  </div>\n</template>\n  \n<script setup>\n  import { ref } from \"vue\";\n\n  import IconComponent from \"@/components/IconComponent.vue\";\n  import UserComponent from \"@/components/UserComponent.vue\"\n\n  // import PencilOutlineIcon from \"vue-material-design-icons/PencilOutline.vue\";\n  import {EditPen} from \"@element-plus/icons-vue\"\n  import InboxIcon from \"vue-material-design-icons/Inbox.vue\";\n  import StarOutlineIcon from \"vue-material-design-icons/StarOutline.vue\";\n  import ClockOutlineIcon from \"vue-material-design-icons/ClockOutline.vue\";\n  import SendOutlineIcon from \"vue-material-design-icons/SendOutline.vue\";\n  import FileOutlineIcon from \"vue-material-design-icons/FileOutline.vue\";\n  //import PlusIcon from \"vue-material-design-icons/Plus.vue\";\n  import CloseIcon from \"vue-material-design-icons/Close.vue\";\n\n  import { useUserStore } from \"@/store/user-store\";\n  const userStore = useUserStore()\n\n  let newMessageOpen = ref(false)\n  let toEmail = ref('')\n  let subject = ref('')\n  let body = ref('')\n\n  const sendEmail = async () => {\n\n    // eslint-disable-next-line no-useless-escape\n    const filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\n    if (!filter.test(toEmail.value)) {\n        alert('Please provide a valid email address');\n        return\n    }\n\n    await userStore.sendEmail({\n      toEmail: toEmail.value,\n      subject: subject.value,\n      body: body.value,\n    })\n\n    newMessageOpen.value = false\n    toEmail.value = ''\n    subject.value = ''\n    body.value = ''\n  }\n</script>\n\n<style lang=\"scss\">\n#EmailView {\n  overflow: hidden;\n  \n  .logo-section {\n    min-width: 250px\n  }\n\n  .help-icon-gray {\n    border: 2px solid rgb(132, 132, 132);\n  }\n\n  .input-width {\n    max-width: 700px;\n  }\n\n  .custom-gray-color {\n    background-color: rgb(232, 232, 232);\n  }\n\n  .side-menu {\n    width: 300px;\n  }\n\n  .side-menu-item {\n    width: 250px;\n  }\n}\n\n#NewMessageSection {\n  overflow: hidden;\n  width: 560px;\n  height: 570px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}